<!DOCTYPE html>
<html lang="es">
<head>
    <%- include('../partials/head') %>
</head>
<body>
    <%- include('../partials/navbar') %>

    <div class="container">
        <div class="page-header">
            <h2><i class="fas fa-user"></i> Detalle del Paciente</h2>
            <div>
                <a href="/historia/<%= paciente._id %>" class="btn btn-primary">
                    <i class="fas fa-file-medical"></i> Ver Historia Clínica
                </a>
                <a href="/pacientes/<%= paciente._id %>/editar" class="btn btn-warning">
                    <i class="fas fa-edit"></i> Editar
                </a>
                <a href="/pacientes" class="btn btn-secondary">
                    <i class="fas fa-arrow-left"></i> Volver
                </a>
            </div>
        </div>

        <div class="form-card">
            <h3><i class="fas fa-id-card"></i> Información Personal</h3>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-top: 20px;">
                <div style="padding: 10px; background: #f8f9fa; border-radius: 5px;">
                    <strong style="color: #667eea;">Nombre Completo:</strong><br>
                    <%= paciente.nombreCompleto %>
                </div>
                <div style="padding: 10px; background: #f8f9fa; border-radius: 5px;">
                    <strong style="color: #667eea;">Tipo de Documento:</strong><br>
                    <%= paciente.tipoDocumento %>
                </div>
                <div style="padding: 10px; background: #f8f9fa; border-radius: 5px;">
                    <strong style="color: #667eea;">Número de Documento:</strong><br>
                    <%= paciente.numeroDocumento %>
                </div>
                <div style="padding: 10px; background: #f8f9fa; border-radius: 5px;">
                    <strong style="color: #667eea;">Fecha de Nacimiento:</strong><br>
                    <%= new Date(paciente.fechaNacimiento).toLocaleDateString('es-CO') %>
                </div>
                <div style="padding: 10px; background: #f8f9fa; border-radius: 5px;">
                    <strong style="color: #667eea;">Edad:</strong><br>
                    <%= paciente.edad %> años
                </div>
                <div style="padding: 10px; background: #f8f9fa; border-radius: 5px;">
                    <strong style="color: #667eea;">Género:</strong><br>
                    <%= paciente.genero === 'M' ? 'Masculino' : paciente.genero === 'F' ? 'Femenino' : 'Otro' %>
                </div>
                <div style="padding: 10px; background: #f8f9fa; border-radius: 5px;">
                    <strong style="color: #667eea;">Teléfono:</strong><br>
                    <%= paciente.telefono %>
                </div>
                <% if (paciente.email) { %>
                    <div style="padding: 10px; background: #f8f9fa; border-radius: 5px;">
                        <strong style="color: #667eea;">Email:</strong><br>
                        <%= paciente.email %>
                    </div>
                <% } %>
            </div>
        </div>

        <div class="form-card" style="margin-top: 20px;">
            <h3><i class="fas fa-info-circle"></i> Acciones Disponibles</h3>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px; margin-top: 20px;">
                <a href="/historia/<%= paciente._id %>" class="btn btn-primary" style="text-align: center; padding: 20px;">
                    <i class="fas fa-file-medical" style="font-size: 24px; display: block; margin-bottom: 10px;"></i>
                    Ver Historia Clínica
                </a>
                <a href="/citas/nueva?paciente=<%= paciente._id %>" class="btn btn-success" style="text-align: center; padding: 20px;">
                    <i class="fas fa-calendar-plus" style="font-size: 24px; display: block; margin-bottom: 10px;"></i>
                    Agendar Nueva Cita
                </a>
            </div>
        </div>
    </div>
</body>
</html>